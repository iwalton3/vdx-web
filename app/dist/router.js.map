{"version":3,"sources":["router.js"],"sourcesContent":["/**\n * Router System\n *\n * Client-side routing with support for:\n * - Hash-based routing (default)\n * - HTML5 History API routing (with <base> tag)\n * - Lazy loading routes with dynamic imports\n * - Route guards and hooks\n * - URL parameters (e.g., /product/:id/:sku)\n * - Query parameters (including hash mode: #/path?q=1)\n * - Reactive prop updates on same-component navigation\n * - Nested routes\n */\n\nimport { createStore, pruneTemplateCache, html, defineComponent } from './framework.js';\n\n// Singleton router instance\nlet _router = null;\n\n/**\n * Shallow compare two objects for equality\n * @private\n * @param {Object} a - First object\n * @param {Object} b - Second object\n * @returns {boolean} True if objects have same keys and values\n */\nfunction shallowEqual(a, b) {\n    if (a === b) return true;\n    if (!a || !b) return false;\n    const keysA = Object.keys(a);\n    const keysB = Object.keys(b);\n    if (keysA.length !== keysB.length) return false;\n    for (const key of keysA) {\n        if (a[key] !== b[key]) return false;\n    }\n    return true;\n}\n\n/**\n * Get the singleton router instance\n * @returns {Router|null} The router instance, or null if not set\n */\nexport function getRouter() {\n    return _router;\n}\n\n/**\n * Parse query string into object\n * @private\n * @param {string} queryString - Query string to parse\n * @returns {Object<string, string>} Parsed query parameters\n */\nfunction parseQuery(queryString) {\n    if (!queryString) return {};\n\n    const params = {};\n    const pairs = queryString.split('&');\n\n    for (const pair of pairs) {\n        const [key, value] = pair.split('=');\n        if (key) {\n            params[decodeURIComponent(key)] = decodeURIComponent(value || '');\n        }\n    }\n\n    return params;\n}\n\n/**\n * Convert object to query string\n * @private\n * @param {Object<string, any>} params - Parameters to stringify\n * @returns {string} Query string\n */\nfunction stringifyQuery(params) {\n    const pairs = [];\n\n    for (const [key, value] of Object.entries(params)) {\n        if (value != null) {\n            pairs.push(`${encodeURIComponent(key)}=${encodeURIComponent(value)}`);\n        }\n    }\n\n    return pairs.join('&');\n}\n\n/**\n * Validate a component name for security.\n * Custom element names must:\n * - Contain at least one hyphen\n * - Start with a lowercase letter\n * - Not contain uppercase letters\n * - Match the PotentialCustomElementName production from the HTML spec\n * @private\n * @param {string} name - Component name to validate\n * @returns {boolean} True if valid custom element name\n */\nfunction isValidCustomElementName(name) {\n    if (!name || typeof name !== 'string') {\n        return false;\n    }\n\n    // Must contain a hyphen (required for custom elements)\n    if (!name.includes('-')) {\n        return false;\n    }\n\n    // Must start with lowercase letter\n    if (!/^[a-z]/.test(name)) {\n        return false;\n    }\n\n    // Must only contain valid characters (lowercase, digits, hyphens)\n    // Per HTML spec: PCENChar (restricted for security)\n    if (!/^[a-z][a-z0-9-]*$/.test(name)) {\n        return false;\n    }\n\n    // Reserved names that browsers won't allow\n    const reserved = [\n        'annotation-xml',\n        'color-profile',\n        'font-face',\n        'font-face-src',\n        'font-face-uri',\n        'font-face-format',\n        'font-face-name',\n        'missing-glyph'\n    ];\n\n    if (reserved.includes(name)) {\n        return false;\n    }\n\n    return true;\n}\n\n/**\n * Convert route pattern to regex and extract param names\n * @private\n * @param {string} pattern - Route pattern (e.g., '/product/:id/:sku')\n * @returns {{regex: RegExp, paramNames: string[]}} Compiled pattern\n */\nfunction compileRoutePattern(pattern) {\n    const paramNames = [];\n\n    // Escape regex special chars except for our param syntax\n    let regexStr = pattern\n        .replace(/[.+?^${}()|[\\]\\\\]/g, '\\\\$&')\n        // Replace :paramName* with greedy capture group (matches multiple path segments)\n        .replace(/:([a-zA-Z_][a-zA-Z0-9_]*)\\\\\\*/g, (_, paramName) => {\n            paramNames.push(paramName);\n            return '(.+)';\n        })\n        // Replace :paramName with capture group (single segment)\n        .replace(/:([a-zA-Z_][a-zA-Z0-9_]*)/g, (_, paramName) => {\n            paramNames.push(paramName);\n            return '([^/]+)';\n        });\n\n    // Match with or without trailing slash\n    if (regexStr.endsWith('/')) {\n        regexStr = regexStr.slice(0, -1) + '/?';\n    } else {\n        regexStr = regexStr + '/?';\n    }\n\n    return {\n        regex: new RegExp(`^${regexStr}$`),\n        paramNames\n    };\n}\n\n/**\n * Match a path against a compiled route pattern\n * @private\n * @param {string} path - URL path to match\n * @param {{regex: RegExp, paramNames: string[]}} compiledPattern - Compiled route pattern\n * @returns {{match: boolean, params: Object<string, string>}} Match result with extracted params\n */\nfunction matchRoute(path, compiledPattern) {\n    const match = path.match(compiledPattern.regex);\n\n    if (!match) {\n        return { match: false, params: {} };\n    }\n\n    const params = {};\n    for (let i = 0; i < compiledPattern.paramNames.length; i++) {\n        params[compiledPattern.paramNames[i]] = decodeURIComponent(match[i + 1]);\n    }\n\n    return { match: true, params };\n}\n\n/**\n * Router class for managing client-side navigation\n *\n * @typedef {Object} RouteConfig\n * @property {string} [component] - Component tag name to render\n * @property {() => Promise<any>} [load] - Optional lazy load function (dynamic import)\n * @property {string} [require] - Optional capability requirement for access control\n * @property {Object} [meta] - Optional metadata for the route\n * @property {Object<string, RouteConfig>} [routes] - Optional nested routes\n * @property {string} [redirect] - Redirect to another path (supports $1, $2 for captured params)\n *\n * @example\n * const router = new Router({\n *   '/': {\n *     component: 'home-page',\n *     load: () => import('./home.js')\n *   },\n *   '/admin/': {\n *     component: 'admin-page',\n *     require: 'admin',\n *     load: () => import('./admin.js')\n *   }\n * });\n *\n * router.setOutlet(document.querySelector('router-outlet'));\n */\nexport class Router {\n    /**\n     * Create a new router instance\n     * @param {Object<string, RouteConfig>} routes - Route configuration map\n     * @param {Object} [options={}] - Router options (reserved for future use)\n     */\n    constructor(routes, options = {}) {\n        this.routes = {};\n        this.beforeHooks = [];\n        this.afterHooks = [];\n        this.outletElement = null;\n        this.loadedComponents = new Set(); // Track loaded components\n\n        // Detect routing mode: HTML5 (with base tag) or hash\n        this.useHTML5 = this._detectRoutingMode();\n        this.base = this._getBase();\n\n        // Flatten nested routes\n        this._flattenRoutes(routes);\n\n        // Create reactive current route store\n        this.currentRoute = createStore({\n            path: '/',\n            query: {},\n            params: {},\n            component: null,\n            meta: {}\n        });\n\n        // Track listeners for cleanup\n        this._listeners = [];\n\n        // Setup listeners based on routing mode\n        if (this.useHTML5) {\n            // HTML5 routing: listen to popstate\n            const popstateHandler = () => this.handleRoute();\n            window.addEventListener('popstate', popstateHandler);\n            this._listeners.push({ event: 'popstate', handler: popstateHandler });\n\n            // Also handle hash URLs and redirect to clean URLs\n            const hashchangeHandler = () => {\n                if (window.location.hash) {\n                    const path = window.location.hash.slice(1);\n                    this.replace(path);\n                }\n            };\n            window.addEventListener('hashchange', hashchangeHandler);\n            this._listeners.push({ event: 'hashchange', handler: hashchangeHandler });\n        } else {\n            // Hash routing: listen to hashchange\n            const hashchangeHandler = () => this.handleRoute();\n            window.addEventListener('hashchange', hashchangeHandler);\n            this._listeners.push({ event: 'hashchange', handler: hashchangeHandler });\n        }\n\n        // Handle initial route\n        this.handleRoute();\n    }\n\n    /**\n     * Clean up router resources\n     * Call this when destroying the router instance\n     * @returns {void}\n     */\n    destroy() {\n        // Remove all event listeners\n        this._listeners.forEach(({ event, handler }) => {\n            window.removeEventListener(event, handler);\n        });\n        this._listeners = [];\n\n        // Clear hooks\n        this.beforeHooks = [];\n        this.afterHooks = [];\n    }\n\n    /**\n     * Detect if we should use HTML5 routing (base tag present)\n     * @private\n     * @returns {boolean}\n     */\n    _detectRoutingMode() {\n        const baseTag = document.querySelector('base[href]');\n        return !!baseTag;\n    }\n\n    /**\n     * Get base URL for routing\n     * @private\n     * @returns {string}\n     */\n    _getBase() {\n        if (this.useHTML5) {\n            const baseTag = document.querySelector('base[href]');\n            if (baseTag) {\n                let base = baseTag.getAttribute('href');\n                // Remove trailing slash, but preserve empty string for root base\n                if (base === '/') {\n                    return '';\n                }\n                if (base.endsWith('/')) {\n                    base = base.slice(0, -1);\n                }\n                return base;\n            }\n            // Fallback to empty base if no base tag in HTML5 mode\n            return '';\n        }\n        // Hash routing uses # as base\n        return window.location.origin + window.location.pathname + '#';\n    }\n\n    /**\n     * Flatten nested routes into flat map and compile patterns\n     * @private\n     * @param {Object<string, RouteConfig>} routes - Routes to flatten\n     * @param {string} [prefix=''] - Path prefix for nested routes\n     * @returns {void}\n     */\n    _flattenRoutes(routes, prefix = '') {\n        for (const [path, config] of Object.entries(routes)) {\n            const fullPath = prefix + (path === '/' ? '' : path);\n\n            // Compile route pattern (handles :param syntax)\n            const compiled = compileRoutePattern(fullPath || '/');\n\n            if (config.routes) {\n                // Nested routes\n                this._flattenRoutes(config.routes, fullPath);\n\n                // Also register the parent route if it has a component\n                if (config.component) {\n                    this.routes[fullPath] = { ...config, _compiled: compiled };\n                }\n            } else {\n                // Leaf route\n                this.routes[fullPath] = { ...config, _compiled: compiled };\n            }\n        }\n\n        // Ensure root route exists\n        if (!this.routes['']) {\n            this.routes[''] = this.routes['/'] || { component: null, _compiled: compileRoutePattern('/') };\n        }\n    }\n\n    /**\n     * Navigate to a path (adds history entry)\n     * @param {string} path - Path to navigate to (e.g., '/about', '/users/123')\n     * @param {Object<string, string>} [query={}] - Optional query parameters\n     * @returns {void}\n     *\n     * @example\n     * router.navigate('/about');\n     * router.navigate('/search', { q: 'test', page: '2' });\n     */\n    navigate(path, query = {}) {\n        const queryString = stringifyQuery(query);\n        const fullPath = queryString ? `${path}?${queryString}` : path;\n\n        if (this.useHTML5) {\n            // HTML5 routing: use pushState\n            const url = this.base + fullPath;\n            window.history.pushState({ path: fullPath }, '', url);\n            this.handleRoute();\n        } else {\n            // Hash routing: use hash\n            window.location.hash = fullPath;\n        }\n    }\n\n    /**\n     * Replace current route without adding history entry\n     * @param {string} path - Path to navigate to\n     * @param {Object<string, string>} [query={}] - Optional query parameters\n     * @returns {void}\n     *\n     * @example\n     * router.replace('/login'); // Replaces current entry\n     */\n    replace(path, query = {}) {\n        const queryString = stringifyQuery(query);\n        const fullPath = queryString ? `${path}?${queryString}` : path;\n\n        if (this.useHTML5) {\n            // HTML5 routing: use replaceState\n            const url = this.base + fullPath;\n            window.history.replaceState({ path: fullPath }, '', url);\n            this.handleRoute();\n        } else {\n            // Hash routing: use hash\n            window.location.replace(`#${fullPath}`);\n        }\n    }\n\n    /**\n     * Go back in browser history\n     * @returns {void}\n     */\n    back() {\n        window.history.back();\n    }\n\n    /**\n     * Go forward in browser history\n     * @returns {void}\n     */\n    forward() {\n        window.history.forward();\n    }\n\n    /**\n     * Register a before-navigation hook (runs before route changes)\n     * @param {(context: {path: string, query: Object, route: RouteConfig}) => boolean|void|Promise<boolean|void>} fn - Hook function (return false to cancel navigation)\n     * @returns {void}\n     *\n     * @example\n     * router.beforeEach(({ path, route }) => {\n     *   if (route.require && !hasPermission(route.require)) {\n     *     router.navigate('/unauthorized');\n     *     return false; // Cancel navigation\n     *   }\n     * });\n     */\n    beforeEach(fn) {\n        this.beforeHooks.push(fn);\n    }\n\n    /**\n     * Register an after-navigation hook (runs after route changes)\n     * @param {(context: {path: string, query: Object, route: RouteConfig}) => void|Promise<void>} fn - Hook function\n     * @returns {void}\n     *\n     * @example\n     * router.afterEach(({ path }) => {\n     *   console.log('Navigated to:', path);\n     *   trackPageView(path);\n     * });\n     */\n    afterEach(fn) {\n        this.afterHooks.push(fn);\n    }\n\n    /**\n     * Find a route matching the given path\n     * @private\n     * @param {string} path - URL path to match\n     * @returns {{route: RouteConfig|null, params: Object<string, string>}} Matched route and extracted params\n     */\n    _findRoute(path) {\n        // Normalize path - ensure it starts with /\n        if (!path) path = '/';\n        if (!path.startsWith('/')) path = '/' + path;\n\n        // First, try exact match (most common case, fastest)\n        let route = this.routes[path];\n        if (route) {\n            return { route, params: {} };\n        }\n\n        // Try without trailing slash\n        if (path.endsWith('/') && path.length > 1) {\n            route = this.routes[path.slice(0, -1)];\n            if (route) {\n                return { route, params: {} };\n            }\n        }\n\n        // Try with trailing slash\n        if (!path.endsWith('/')) {\n            route = this.routes[path + '/'];\n            if (route) {\n                return { route, params: {} };\n            }\n        }\n\n        // No exact match - try pattern matching for routes with :params\n        for (const [pattern, routeConfig] of Object.entries(this.routes)) {\n            if (!routeConfig._compiled) continue;\n\n            const result = matchRoute(path, routeConfig._compiled);\n            if (result.match) {\n                return { route: routeConfig, params: result.params };\n            }\n        }\n\n        // Fallback to 404 or root\n        return {\n            route: this.routes['/404'] || this.routes[''] || { component: null },\n            params: {}\n        };\n    }\n\n    /**\n     * Handle route change\n     * @private\n     * @returns {Promise<void>}\n     */\n    async handleRoute() {\n        let path, queryString;\n\n        if (this.useHTML5) {\n            // HTML5 routing: parse from pathname\n            const fullPath = window.location.pathname;\n            // Remove base from path\n            let relativePath = fullPath;\n            if (this.base && this.base.length > 0 && fullPath.startsWith(this.base)) {\n                relativePath = fullPath.slice(this.base.length);\n            }\n            if (!relativePath.startsWith('/')) {\n                relativePath = '/' + relativePath;\n            }\n\n            // Get query from search\n            queryString = window.location.search.slice(1);\n            [path] = relativePath.split('?');\n        } else {\n            // Hash routing: parse from hash\n            const hash = window.location.hash.slice(1) || '';\n            [path, queryString] = hash.split('?');\n        }\n\n        // Ensure path starts with /\n        if (!path) path = '/';\n        if (!path.startsWith('/')) path = '/' + path;\n\n        const query = parseQuery(queryString);\n\n        // Find matching route with params\n        const { route, params } = this._findRoute(path);\n\n        // Handle redirects\n        if (route.redirect) {\n            let redirectPath = route.redirect;\n            // Substitute captured params ($1, $2, etc. or named params)\n            const paramValues = Object.values(params);\n            for (let i = 0; i < paramValues.length; i++) {\n                redirectPath = redirectPath.replace(`$${i + 1}`, paramValues[i]);\n            }\n            // Also support named params like :paramName\n            for (const [name, value] of Object.entries(params)) {\n                redirectPath = redirectPath.replace(`:${name}`, value);\n            }\n            this.replace(redirectPath, query);\n            return;\n        }\n\n        // Run before hooks\n        for (const hook of this.beforeHooks) {\n            const result = await hook({ path, query, params, route });\n            if (result === false) {\n                // Navigation cancelled\n                return;\n            }\n        }\n\n        // Lazy load component if needed\n        if (route.load && route.component && !this.loadedComponents.has(route.component)) {\n            try {\n                await route.load();\n                this.loadedComponents.add(route.component);\n            } catch (error) {\n                console.error(`Failed to load component for route ${path}:`, error);\n                // Fallback to 404 on load error\n                const fallback = this.routes['/404'] || { component: 'page-not-found' };\n                this.currentRoute.set({\n                    path,\n                    query,\n                    params: {},\n                    component: fallback.component,\n                    meta: fallback.meta || {}\n                });\n                this._renderOutlet();\n                return;\n            }\n        }\n\n        // Update current route\n        this.currentRoute.set({\n            path,\n            query,\n            params,\n            component: route.component,\n            meta: route.meta || {}\n        });\n\n        // Render component (handles same-component prop updates)\n        this._renderOutlet();\n\n        // Run after hooks\n        for (const hook of this.afterHooks) {\n            await hook({ path, query, params, route });\n        }\n\n        // Clean up template cache on navigation to prevent unbounded growth\n        pruneTemplateCache();\n    }\n\n    /**\n     * Set the outlet element where routed components will be rendered\n     * @param {HTMLElement} element - Router outlet element (typically <router-outlet>)\n     * @returns {void}\n     *\n     * @example\n     * router.setOutlet(document.querySelector('router-outlet'));\n     */\n    setOutlet(element) {\n        // Clean up previous subscription if it exists\n        if (this._outletUnsubscribe) {\n            this._outletUnsubscribe();\n        }\n\n        this.outletElement = element;\n\n        // Subscribe to route changes and re-render\n        this._outletUnsubscribe = this.currentRoute.subscribe(() => {\n            this._renderOutlet();\n        });\n    }\n\n    /**\n     * Render the current component in the outlet\n     * Handles same-component navigation by updating props instead of recreating\n     * @private\n     * @returns {void}\n     */\n    _renderOutlet() {\n        if (!this.outletElement) {\n            return;\n        }\n\n        const { component, params, query } = this.currentRoute.state;\n\n        if (!component) {\n            // Fallback if no component is found (should not happen with proper 404 route)\n            // SECURITY: Use createElement instead of innerHTML to prevent potential injection\n            this.outletElement.textContent = ''; // Clear safely\n            const notFoundElement = document.createElement('page-not-found');\n            this.outletElement.appendChild(notFoundElement);\n            this._currentComponent = null;\n            this._currentElement = null;\n            return;\n        }\n\n        // SECURITY: Validate component name before createElement\n        if (!isValidCustomElementName(component)) {\n            console.error(`[Router] Invalid component name: \"${component}\". Component names must be lowercase, contain a hyphen, and start with a letter.`);\n            this.outletElement.textContent = ''; // Clear safely\n            const errorElement = document.createElement('page-not-found');\n            this.outletElement.appendChild(errorElement);\n            this._currentComponent = null;\n            this._currentElement = null;\n            return;\n        }\n\n        // Check if we can reuse the existing component (same tag name)\n        const existingElement = this.outletElement.firstElementChild;\n        if (existingElement && existingElement.tagName.toLowerCase() === component) {\n            // Same component - update props only if changed (shallow compare)\n            // This prevents unnecessary propsChanged calls\n            if (!shallowEqual(existingElement.params, params)) {\n                existingElement.params = params;\n            }\n            if (!shallowEqual(existingElement.query, query)) {\n                existingElement.query = query;\n            }\n            this._currentElement = existingElement;\n        } else {\n            // Different component - create new element\n            const element = document.createElement(component);\n\n            // Set params and query as properties (not attributes)\n            // This allows passing objects directly to the component\n            element.params = params;\n            element.query = query;\n\n            // Replace outlet content\n            this.outletElement.innerHTML = '';\n            this.outletElement.appendChild(element);\n\n            this._currentComponent = component;\n            this._currentElement = element;\n        }\n    }\n\n    /**\n     * Generate URL for a route (respects routing mode)\n     * @param {string} path - Route path\n     * @param {Object<string, string>} [query={}] - Optional query parameters\n     * @returns {string} Complete URL (hash or HTML5 based on mode)\n     *\n     * @example\n     * router.url('/about'); // Returns '#/about' or '/app/about' depending on mode\n     * router.url('/search', { q: 'test' }); // '/search?q=test'\n     */\n    url(path, query = {}) {\n        const queryString = stringifyQuery(query);\n        const fullPath = queryString ? `${path}?${queryString}` : path;\n\n        if (this.useHTML5) {\n            return this.base + fullPath;\n        } else {\n            return `#${fullPath}`;\n        }\n    }\n}\n\nfunction init() {\n    defineComponent('router-link', {\n        props: {\n            to: '/'\n        },\n\n        methods: {\n            handleClick(e) {\n                // Intercept clicks for HTML5 routing\n                if (_router && _router.useHTML5) {\n                    e.preventDefault();\n                    _router.navigate(this.props.to);\n                }\n            }\n        },\n\n        template() {\n            const href = _router ? _router.url(this.props.to) : `#${this.props.to}`;\n\n            return html`\n                <a href=\"${href}\" on-click=\"handleClick\">${this.props.children}</a>\n            `;\n        }\n    });\n\n\n    if (customElements.get('router-outlet')) {\n        return;\n    }\n\n    class RouterOutlet extends HTMLElement {\n        connectedCallback() {\n            // Router will find this and use it\n        }\n    }\n\n    customElements.define('router-outlet', RouterOutlet);\n}\n\ninit();\n\n/**\n * Enable routing for a specific outlet element\n * @param {RouterOutlet} outlet router outlet element\n * @param {Object<string, RouteConfig>} routes object defining routes\n * @param {Object} options additional options (currently unused)\n * @returns {Router} The singleton router instance\n */\nexport function enableRouting(outlet, routes, options = {}) {\n    if (!_router) {\n        _router = new Router(routes, options);\n    }\n    _router.setOutlet(outlet);\n    return _router;\n}"],"names":["import","createStore","pruneTemplateCache","html","defineComponent","from","let","_router","null","function","shallowEqual","a","b","if","return","true","false","const","keysA","Object","keys","keysB","length","for","key","of","export","getRouter","parseQuery","queryString","params","pairs","split","pair","value","decodeURIComponent","stringifyQuery","entries","push","join","isValidCustomElementName","name","typeof","includes","test","reserved","compileRoutePattern","pattern","paramNames","regexStr","replace","_","paramName","endsWith","slice","else","regex","new","RegExp","matchRoute","path","compiledPattern","match","i","class","Router","constructor","routes","options","this","beforeHooks","afterHooks","outletElement","loadedComponents","Set","useHTML5","_detectRoutingMode","base","_getBase","_flattenRoutes","currentRoute","query","component","meta","_listeners","popstateHandler","handleRoute","window","addEventListener","event","handler","hashchangeHandler","location","hash","destroy","forEach","removeEventListener","baseTag","document","querySelector","getAttribute","origin","pathname","prefix","config","fullPath","compiled","_compiled","navigate","url","history","pushState","replaceState","back","forward","beforeEach","fn","afterEach","_findRoute","startsWith","route","routeConfig","continue","result","async","relativePath","search","redirect","redirectPath","paramValues","values","hook","await","load","has","try","add","catch","error","console","fallback","set","_renderOutlet","setOutlet","element","_outletUnsubscribe","subscribe","state","textContent","notFoundElement","createElement","appendChild","_currentComponent","_currentElement","errorElement","existingElement","firstElementChild","tagName","toLowerCase","innerHTML","init","props","to","methods","handleClick","e","preventDefault","template","href","customElements","get","RouterOutlet","extends","HTMLElement","connectedCallback","define","enableRouting","outlet"],"mappings":"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","file":"router.js"}